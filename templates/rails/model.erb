class <%= model_name %> < ActiveRecord::Base

<%

    text = ""
    required = ''

    schema['columns'].each_pair do |name,column|
        required << ":#{name}, " if name != 'id' && column['is_nullable'] == 'NO'
    end
    
    if required.length > 0
      text << 'validates ' + required + ' presence: true' + "\n" 
    end
    
    schema['has_many'].each_key do |key|
    	text << ('  has_many :' + key + "\n")
    end
 
    schema['belongs_to'].each_key do |key|
      text << ('  belongs_to :' + key.singularize + "\n")
    end
   
%>
	<%= text %>
end