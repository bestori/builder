'use strict';

/* App Module */

var app = angular.module("mainapp", ["ngResource",'ui']);

// Gets authentication token injected in the DOM
app.config(["$httpProvider", function(provider) {
  provider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content');
}]);

app.config(function ($routeProvider) {
        $routeProvider.
<% models.each do |model|   %>
 when('/<%= model.pluralize %>', {templateUrl:  '/assets/partials/<%= model %>-list.html',controller: '<%= model.to_model_name %>ListCtrl'}).
 when('/<%= model.pluralize %>/:<%= model %>Id', {templateUrl: '/assets/partials/<%= model %>-detail.html',controller: '<%= model.to_model_name %>DetailCtrl'}).
<% end %>
otherwise({redirectTo: '/'});
});